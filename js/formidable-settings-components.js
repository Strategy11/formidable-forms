!function(){"use strict";Promise.resolve(),window.frmDom.util.onClickPreventDefault;var e=(new URL(window.location.href).searchParams,window.frmGlobal),t=(e.url,e.nonce,"frm_hidden");function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r(n.key),n)}}function r(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}var a=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.radioElements=document.querySelectorAll(".frm-style-component.frm-radio-component"),0<this.radioElements.length&&this.init()},(i=[{key:"init",value:function(){var e=this;this.radioElements.forEach((function(t){e.initOnRadioChange(t)})),this.initTrackerOnAccordionClick()}},{key:"initTrackerOnAccordionClick",value:function(){var e=this;document.querySelectorAll("#frm_style_sidebar .accordion-section h3").forEach((function(t){t.addEventListener("click",(function(t){t.target.closest(".accordion-section").querySelectorAll('.frm-style-component.frm-radio-component input[type="radio"]:checked').forEach((function(t){setTimeout((function(){return e.onRadioChange(t)}),200)}))}))}))}},{key:"initOnRadioChange",value:function(e){var t=this;e.querySelectorAll('input[type="radio"]').forEach((function(e){e.checked&&t.onRadioChange(e),e.addEventListener("change",(function(e){t.onRadioChange(e.target)}))}))}},{key:"onRadioChange",value:function(e){var t=e.closest(".frm-style-component.frm-radio-component"),i=t.querySelector('input[type="radio"]:checked + label');null!==i&&(this.moveTracker(i,t),this.hideExtraElements(e),this.maybeShowExtraElements(e))}},{key:"maybeShowExtraElements",value:function(e){var i=e.getAttribute("data-frm-show-element");if(null!==i){var n=document.querySelectorAll('div[data-frm-element="'.concat(i,'"]'));0!==n.length&&n.forEach((function(e){(function(e){null==e||e.classList.remove(t)})(e),e.classList.add("frm-element-is-visible")}))}}},{key:"hideExtraElements",value:function(){var e=document.querySelectorAll(".frm-element-is-visible");0!==e.length&&e.forEach((function(e){e.classList.remove("frm-element-is-visible"),e.classList.add("frm_hidden"),function(e){null==e||e.classList.add(t)}(e)}))}},{key:"moveTracker",value:function(e,t){var i=e.offsetLeft,n=e.offsetWidth,r=t.querySelector(".frm-radio-active-tracker");r.style.left=0,r.style.width="".concat(n,"px"),r.style.transform="translateX(".concat(i,"px)")}}])&&n(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,i}();function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function l(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function s(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}var c=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.component=t;try{var i=JSON.parse(this.component.dataset.willChange);this.data={propagateInputs:this.initPropagationList(i),changeEvent:new Event("change",{bubbles:!0})}}catch(e){console.error('Error parsing JSON data from "will-change" attribute.',e)}},(t=[{key:"initPropagationList",value:function(e){var t=[];return e.forEach((function(e){var i=document.querySelector('input[name="'.concat(e,'"]'));null!==i&&t.push(i)})),t}},{key:"updateAllDependentElements",value:function(e){this.data.propagateInputs.forEach((function(t){t.value=e})),this.data.propagateInputs[0].dispatchEvent(this.data.changeEvent)}}])&&l(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function f(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function d(e){var t=function(e){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=u(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}var h=function(){return e=function e(){var t=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sliderElements=document.querySelectorAll(".frm-slider-component"),0!==this.sliderElements.length){this.sliderBulletWidth=16,this.sliderMarginRight=5,this.eventsChange=[];var i=frmDom.util.debounce;this.valueChangeDebouncer=i((function(e){return t.triggerValueChange(e)}),25),this.initOptions(),this.init()}},(t=[{key:"initOptions",value:function(){var e=this;this.options=[],this.sliderElements.forEach((function(t,i){var n=t.classList.contains("frm-has-multiple-values")?t.closest(".frm-style-component"):t;e.options.push({dragging:!1,startX:0,translateX:0,maxValue:parseInt(t.dataset.maxValue,10),element:t,index:i,value:0,dependentUpdater:n.classList.contains("frm-style-dependent-updater-component")?new c(n):null})}))}},{key:"init",value:function(){this.initSlidersPosition(),this.initDraggable()}},{key:"initDraggable",value:function(){var e=this;this.sliderElements.forEach((function(t,i){e.eventsChange[i]=new Event("change",{bubbles:!0,cancelable:!0});var n=t.querySelector(".frm-slider-bullet"),r=t.querySelector('.frm-slider-value input[type="text"]');r.addEventListener("change",(function(n){var a=t.querySelector("select").value;e.getMaxValue(a,i)<parseInt(n.target.value,10)||(e.initSliderWidth(t),e.options[i].fullValue=e.updateValue(t,r.value+a),e.triggerValueChange(i))})),e.expandSliderGroup(t),e.updateOnUnitChange(t,r,i),e.changeSliderPositionOnClick(t,r,i),n.addEventListener("mousedown",(function(n){n.preventDefault(),n.stopPropagation(),t.classList.contains("frm-disabled")||e.enableDragging(n,i)})),n.addEventListener("mousemove",(function(n){t.classList.contains("frm-disabled")||e.moveTracker(n,i)})),n.addEventListener("mouseup",(function(n){t.classList.contains("frm-disabled")||e.disableDragging(i,n)})),n.addEventListener("mouseleave",(function(n){t.classList.contains("frm-disabled")||e.disableDragging(i,n)}))}))}},{key:"expandSliderGroup",value:function(e){var t=e.querySelector(".frmsvg");if(void 0!==e.dataset.displaySliders&&null!==t){var i=this.getSliderGroupItems(e);t.addEventListener("click",(function(){i.forEach((function(e){e.classList.toggle("frm_hidden")}))}))}}},{key:"updateOnUnitChange",value:function(e,t,i){var n=this;e.querySelector("select").addEventListener("change",(function(r){var a=r.target.value.toLowerCase();if(""!==a){if("auto"===a)return e.classList.add("frm-disabled"),n.updateValue(e,"auto"),void n.triggerValueChange(i);e.classList.remove("frm-disabled","frm-empty"),n.options[i].fullValue=t.value+a,n.updateValue(e,n.options[i].fullValue),n.triggerValueChange(i)}else e.classList.add("frm-disabled","frm-empty")}))}},{key:"changeSliderPositionOnClick",value:function(e,t,i){var n=this,r=e.querySelector(".frm-slider"),a=new Event("change",{bubbles:!0,cancelable:!0});r.addEventListener("click",(function(o){if(!e.classList.contains("frm-disabled")&&(o.preventDefault(),o.stopPropagation(),o.target.classList.contains("frm-slider")||o.target.classList.contains("frm-slider-active-track"))){var l=r.offsetWidth-n.sliderBulletWidth,s=r.getBoundingClientRect(),c=o.clientX-s.left-n.sliderBulletWidth,u=e.querySelector("select").value,f=n.calculateValue(l,c,n.getMaxValue(u,i));f<0||(n.options[i].fullValue=n.updateValue(e,f+u),n.initChildSlidersWidth(e,c,i,f+u),t.value=f,t.dispatchEvent(a))}}))}},{key:"getSliderGroupItems",value:function(e){if(void 0===e.dataset.displaySliders)return[];var t=e.dataset.displaySliders.split(",").map((function(e){return'.frm-slider-component[data-type="'.concat(e,'"]')})).join(", ");return e.closest(".frm-style-component").querySelectorAll(t)}},{key:"initSlidersPosition",value:function(){var e=this,t=document.querySelectorAll("#frm_style_sidebar .accordion-section h3"),i=document.querySelector(".frm-quick-settings"),n=document.querySelector(".accordion-section.open");wp.hooks.addAction("frm_pro_on_bg_image_upload","formidable",(function(t){var i=t.closest(".accordion-section-content").querySelector("#frm-bg-image-opacity-slider");e.initSlidersWidth(i)})),null!==i&&this.initSlidersWidth(i),null!==n&&this.initSlidersWidth(n),t.forEach((function(t){t.addEventListener("click",(function(t){e.initSlidersWidth(t.target.closest(".accordion-section"))}))})),this.initSliderPositionOnFieldShapeChange()}},{key:"initSliderPositionOnFieldShapeChange",value:function(){var e=this,t=document.querySelector(".frm-style-component.frm-field-shape");null!==t&&t.querySelectorAll('input[type="radio"]').forEach((function(t){t.addEventListener("change",(function(t){if(t.target.checked&&"rounded-corner"===t.target.value){var i=document.querySelector('div[data-frm-element="field-shape-corner-radius"] .frm-slider-component');e.initSliderWidth(i)}}))}))}},{key:"initSlidersWidth",value:function(e){var t=this;e.querySelectorAll(".frm-slider-component").forEach((function(e){setTimeout((function(){t.initSliderWidth(e)}),100)}))}},{key:"initSliderWidth",value:function(e){if(!e.classList.contains("frm-disabled")){var t=this.getSliderIndex(e),i=e.querySelector(".frm-slider").offsetWidth-this.sliderBulletWidth,n=parseInt(e.querySelector('.frm-slider-value input[type="text"]').value,10),r=e.querySelector("select").value,a="%"===r?Math.round(i*n/100):Math.ceil(n/this.options[t].maxValue*i);e.querySelector(".frm-slider-active-track").style.width="".concat(a,"px"),this.options[t].translateX=a,this.options[t].value=n+r}}},{key:"initChildSlidersWidth",value:function(e,t,i,n){var r=this;(e.classList.contains("frm-has-independent-fields")||e.classList.contains("frm-has-multiple-values"))&&(e.classList.contains("frm-has-independent-fields")?e.querySelectorAll(".frm-independent-slider-field"):this.getSliderGroupItems(e)).forEach((function(e,a){e.querySelector(".frm-slider-active-track").style.width="".concat(t,"px"),r.options[i+a+1].translateX=t,r.options[i+a+1].value=n}))}},{key:"getSliderIndex",value:function(e){return this.options.filter((function(t){return t.element===e}))[0].index}},{key:"moveTracker",value:function(e,t){if(this.options[t].dragging){var i=e.clientX-this.options[t].startX,n=this.sliderElements[t],r=n.querySelector(".frm-slider").offsetWidth;if(!((i=Math.max(i,0))+this.sliderBulletWidth/2+this.sliderMarginRight>=r)){var a=n.querySelector("select").value,o=this.calculateValue(r,i,this.getMaxValue(a,t));n.querySelector('.frm-slider-value input[type="text"]').value=o,n.querySelector(".frm-slider-bullet .frm-slider-value-label").innerText=o,n.querySelector(".frm-slider-active-track").style.width="".concat(i,"px"),this.initChildSlidersWidth(n,i,t,o+a),this.options[t].translateX=i,this.options[t].value=o+a,this.options[t].fullValue=this.updateValue(n,this.options[t].value),this.valueChangeDebouncer(t)}}}},{key:"getMaxValue",value:function(e,t){return"%"===e?100:this.options[t].maxValue}},{key:"enableDragging",value:function(e,t){e.target.classList.add("frm-dragging"),this.options[t].dragging=!0,this.options[t].startX=e.clientX-this.options[t].translateX}},{key:"disableDragging",value:function(e,t){!1!==this.options[e].dragging&&(t.target.classList.remove("frm-dragging"),this.options[e].dragging=!1,this.triggerValueChange(e))}},{key:"triggerValueChange",value:function(e){var t=this;if(null===this.options[e].dependentUpdater){var i=this.sliderElements[e].classList.contains("frm-has-multiple-values")?this.sliderElements[e].closest(".frm-style-component").querySelector('input[type="hidden"]'):this.sliderElements[e].querySelectorAll('.frm-slider-value input[type="hidden"]');i instanceof NodeList?i.forEach((function(i){i.dispatchEvent(t.eventsChange[e])})):i.dispatchEvent(this.eventsChange[e])}else this.options[e].dependentUpdater.updateAllDependentElements(this.options[e].fullValue)}},{key:"calculateValue",value:function(e,t,i){var n=Math.ceil(this.sliderBulletWidth*(t/e)),r=Math.ceil((t+n)/e*i);return Math.min(r,i)}},{key:"updateValue",value:function(e,t){var i=this;if(e.classList.contains("frm-base-font-size")){var n=document.querySelector('input[name="frm_style_setting[post_content][use_base_font_size]"]');null!==n&&(n.value="true")}if(e.classList.contains("frm-has-multiple-values")){var r=e.closest(".frm-style-component").querySelector('input[type="hidden"]'),a=r.value.split(" "),o=e.dataset.type;switch(a[2]||(a[2]="0px"),a[3]||(a[3]="0px"),o){case"vertical":a[0]=t,a[2]=t;break;case"horizontal":a[1]=t,a[3]=t;break;case"top":a[0]=t;break;case"bottom":a[2]=t;break;case"left":a[3]=t;break;case"right":a[1]=t}var l=a.join(" ");return r.value=l,this.getSliderGroupItems(e).forEach((function(e){var n=i.getUnitMeasureFromValue(t);e.querySelector('.frm-slider-value input[type="text"]').value=parseInt(t,10),e.querySelector("select").value=n})),l}if(e.classList.contains("frm-has-independent-fields")){var s=e.querySelectorAll('.frm-slider-value input[type="hidden"]'),c=e.querySelectorAll('.frm-slider-value input[type="text"]');return s.forEach((function(e,i){e.value=t,c[i+1].value=parseInt(t,10)})),t}return e.querySelector('.frm-slider-value input[type="hidden"]').value=t,t}},{key:"getUnitMeasureFromValue",value:function(e){return["%","px","em"].find((function(t){return e.includes(t)}))||""}}])&&f(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function v(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function p(e){var t=function(e){if("object"!=m(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=m(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==m(t)?t:t+""}var y=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),void 0!==t&&(this.wrapper=t instanceof Element?t:document.querySelector(t),null!==this.wrapper&&(this.flexboxSlidesGap="16px",this.navs=this.wrapper.querySelectorAll(".frm-tabs-navs ul > li"),this.slideTrackLine=this.wrapper.querySelector(".frm-tabs-active-underline"),this.slideTrack=this.wrapper.querySelector(".frm-tabs-slide-track"),this.slides=this.wrapper.querySelectorAll(".frm-tabs-slide-track > div"),this.init()))},(t=[{key:"init",value:function(){var e=this;null!==this.wrapper&&this.navs.length&&null!==this.trackLine&&null!==this.slideTrack&&this.slides.length&&(this.initDefaultSlideTrackerWidth(),this.navs.forEach((function(t,i){t.addEventListener("click",(function(t){return e.onNavClick(t,i)}))})))}},{key:"onNavClick",value:function(e,t){this.removeActiveClassnameFromNavs(),e.target.classList.add("frm-active"),this.initSlideTrackUnderline(e.target,t),this.changeSlide(t)}},{key:"initDefaultSlideTrackerWidth",value:function(){this.slideTrackLine.dataset.initialWidth&&(this.slideTrackLine.style.width="".concat(this.slideTrackLine.dataset.initialWidth,"px"))}},{key:"initSlideTrackUnderline",value:function(e,t){this.slideTrackLine.classList.remove("frm-first","frm-last");var i=void 0!==e?e:this.navs.filter((function(e){return e.classList.contains("frm-active")}));this.slideTrackLine.style.transform="translateX(".concat(i.offsetLeft,"px)"),this.slideTrackLine.style.width=i.clientWidth+"px",this.navs.length!==t+1?0===t&&this.slideTrackLine.classList.add("frm-first"):this.slideTrackLine.classList.add("frm-last")}},{key:"changeSlide",value:function(e){this.removeActiveClassnameFromSlides();var t=0==e?"0px":"calc( ( ".concat(100*e,"% + ").concat(parseInt(this.flexboxSlidesGap,10)*e,"px ) * -1 )");this.slideTrack.style.transform="translateX(".concat(t,")"),e in this.slides&&this.slides[e].classList.add("frm-active")}},{key:"removeActiveClassnameFromSlides",value:function(){this.slides.forEach((function(e){return e.classList.remove("frm-active")}))}},{key:"removeActiveClassnameFromNavs",value:function(){this.navs.forEach((function(e){return e.classList.remove("frm-active")}))}}])&&v(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function b(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function S(e){var t=function(e){if("object"!=g(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=g(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==g(t)?t:t+""}var k,E=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elements=document.querySelectorAll(".frm-style-tabs-wrapper"),0<this.elements.length&&this.init()},(t=[{key:"init",value:function(){this.elements.forEach((function(e){new y(e)}))}},{key:"initOnTabClick",value:function(e){var t=this;this.initActiveBackgroundWidth(e),e.querySelectorAll(".frm-tab-item").forEach((function(e){e.addEventListener("click",(function(e){t.onTabClick(e.target.closest(".frm-tabs-wrapper"))}))}))}}])&&b(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();k=function(){new a,new h,new E},"undefined"!=typeof document&&("complete"!==document.readyState&&"interactive"!==document.readyState?document.addEventListener("DOMContentLoaded",k):k())}();